<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CryptWay / Learn</title>
    <link href="../dist/output.css" rel="stylesheet">

</head>
<body>
<header class="sticky top-0 z-50 flex items-center px-2  py-2 border-b-1 shadow-lg bg-white/90 backdrop-blur-md border-slate-300/20">
    <div class="flex items-center flex-grow basis-0">
          <a href="" class="text-lg font-bold  text-slate-900">
          Cryptway / Learn 
          </a>
    </div>
    <div class=" justify-end">
          <a href="https://cryptway.in/" class="px-4 py-2 text-sm font-semibold rounded bg-slate-900 text-slate-50 transition ease-in-out delay-75 hover:scale-105 duration-200">
           Cryptway
          </a>
    </div>
</header>


<section CLASS="relative flex justify-center mx-auto max-w-8xl">

          <input type="checkbox" name="nav" id="nav" class="hidden peer" />
          <label for="nav" class="fixed bottom-0 left-0 z-50 flex items-center justify-center w-12 h-12 mb-4 ml-4 bg-white border rounded-full shadow-lg cursor-pointer text-slate-600 border-slate-300 lg:hidden transition duration-200 ease-in-out active:scale-95">
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-arrow-right-circle-fill" viewBox="0 0 16 16">
                <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"/>
              </svg>
          </label>
     <div class="fixed bg-white top-[2.5rem] h-screen shadow-xl px-4 left-0 hidden peer-checked:block lg:relative lg:top-0 lg:h-auto lg:px-0 lg:block lg:flex-none lg:shadow-none">
       
        <nav class="sticky top-[2.5rem] w-64 pr-8 text-base lg:text-sm xl:w-72 xl:pr-16 ">
                   
            <ul   class="px-2 py-5 border-l-4 border-purple-500">
                <li>
                                          <li class="font-bold text-base	 flex items-center"> <a href="1.html" class="mr-4 hover:underline md:mr-6 ">Getting Started </a></li>
                                          <ol  class="ml-10 mt-5 pl-5 border-l-4 border-purple-500">
                                          <li class="font-semibold text-slate-900 truncate dark:text-slate-200"><a href="2.html" class="mr-4 hover:underline md:mr-6 ">Node.js</a></li> 
                                          <li class="font-semibold text-slate-900 truncate dark:text-slate-200"><a href="3.html" class="mr-4 hover:underline md:mr-6 ">React.js</a></li>
                                          <li class="font-semibold text-slate-900 truncate dark:text-slate-200"><a href="4.html" class="mr-4 hover:underline md:mr-6 ">Hooks</a></li>
                                          </ol>
                </li>
              <li>
              <li class="font-bold text-base	 flex items-center"><a href="5.html" class="mr-4 hover:underline md:mr-6 "> Rapid API </a></li>
              </li>
              
               <li>
                                          <li class="font-bold text-base	 flex items-center"><a href="6.html" class="mr-4 hover:underline md:mr-6 ">Solidity</a></li>
                                          <ol  class="ml-10 mt-5 pl-5 border-l-4 border-purple-500">
                                          <li class="font-semibold text-slate-900 truncate dark:text-slate-200"><a href="7.html" class="mr-4 hover:underline md:mr-6 ">Basics</a></li> 
                                          <li class="font-semibold text-slate-900 truncate dark:text-slate-200"><a href="8.html" class="mr-4 hover:underline md:mr-6 ">Smart Contracts</a></li>
                                          <li class="font-semibold text-slate-900 truncate dark:text-slate-200"><a href="9.html" class="mr-4 hover:underline md:mr-6 ">BlockChain</a></li>
                                          <li class="font-semibold text-slate-900 truncate dark:text-slate-200"><a href="10.html" class="mr-4 hover:underline md:mr-6 ">Installing Solidity</a></li>
              
                                          </ol>
                </li>
               <li>
                                          <li class="font-bold text-base	 flex items-center"><a href="11.html" class="mr-4 hover:underline md:mr-6 ">Contracts</a></li>
                                          <ol  class="ml-10 mt-5 pl-5 border-l-4 border-purple-500">
                                          <li class="font-semibold text-slate-900 truncate dark:text-slate-200"><a href="12.html" class="mr-4 hover:underline md:mr-6 ">Creating</a></li> 
                                          <li class="font-semibold text-slate-900 truncate dark:text-slate-200"><a href="13.html" class="mr-4 hover:underline md:mr-6 ">Functions</a></li>
                                          <li class="font-semibold text-slate-900 truncate dark:text-slate-200"><a href="14.html" class="mr-4 hover:underline md:mr-6 ">Inheritance</a></li> 
              
                                          </ol>
                </li>
              
              
              <li>
              <li class="font-bold text-base	 flex items-center"><a href="15.html" class="mr-4 hover:underline md:mr-6 "> Ether.js</a></li>
              </li>
              
               <li>
              
              <li>
              <li class="font-bold text-base	 flex items-center"><a href="16.html" class="mr-4 hover:underline md:mr-6 "> Web3.js</a> </li>
              </li>
              
               <li>
              
              <li>
              <li class="font-bold text-base	 flex items-center"> <a href="17.html" class="mr-4 hover:underline md:mr-6 ">ERC 20 Tokens</a> </li>
              </li>
              
               <li>

                <li>
                    <li class="font-bold text-base	 flex items-center"><a href="../exercise.html" class="mr-4 hover:underline md:mr-6 ">Exercises</a> </li>
                    </li>
                    
                     <li>
              
              </ul>
              

    </nav>


              </div>
          
     <div class="flex-auto max-w-2xl min-w-0 px-4 py-10 lg:max-w-none lg:pr-0 lg:pl-8 xl:px-16 bg-slate-200	">
                 
        <article>


 
                <!--Title-->
                <div class="font-sans bg-white pl-5 py-5  rounded shadow-lg">
                 
                         <h1 class="font-sans mx-5 break-normal text-gray-900 text-xl">Functions

                        </h1>
                         
                </div>
       <br>

          

               
                <!--Post Content-->
                <div class=" bg-white pl-5 pr-2 py-5  rounded shadow-lg">
                    <p>Functions can be defined inside and outside of contracts.</p>

<p>Functions outside of a contract, also called &ldquo;free functions&rdquo;, always have implicit&nbsp;<code>internal</code>&nbsp;<a href="https://docs.soliditylang.org/en/v0.8.17/contracts.html#visibility-and-getters">visibility</a>. Their code is included in all contracts that call them, similar to internal library functions.</p>

<p>&nbsp;</p>

<blockquote>
<pre>
// SPDX-License-Identifier: GPL-3.0
pragma solidity &gt;=0.7.1 &lt;0.9.0;

function sum(uint[] memory arr) pure returns (uint s) {
    for (uint i = 0; i &lt; arr.length; i++)
        s += arr[i];
}

contract ArrayExample {
    bool found;
    function f(uint[] memory arr) public {
        // This calls the free function internally.
        // The compiler will add its code to the contract.
        uint s = sum(arr);
        require(s &gt;= 10);
        found = true;
    }
}
</pre>
</blockquote>

<div style="background:#eeeeee; border:1px solid #cccccc; padding:5px 10px">Note</div>

<div style="background:#eeeeee; border:1px solid #cccccc; padding:5px 10px">Functions defined outside a contract are still always executed in the context of a contract. They still can call other contracts, send them Ether and destroy the contract that called them, among other things. The main difference to functions defined inside a contract is that free functions do not have direct access to the variable&nbsp;<code>this</code>, storage variables and functions not in their scope.</div>

<h3>Function Parameters and Return Variables</h3>

<p>Functions take typed parameters as input and may, unlike in many other languages, also return an arbitrary number of values as output.</p>

<h4>Function Parameters</h4>

<p>Function parameters are declared the same way as variables, and the name of unused parameters can be omitted.</p>

<p>For example, if you want your contract to accept one kind of external call with two integers, you would use something like the following:</p>

<p>&nbsp;</p>

<blockquote>
<pre>
// SPDX-License-Identifier: GPL-3.0
pragma solidity &gt;=0.4.16 &lt;0.9.0;

contract Simple {
    uint sum;
    function taker(uint a, uint b) public {
        sum = a + b;
    }
}
</pre>
</blockquote>

<p>Function parameters can be used as any other local variable and they can also be assigned to.</p>

<h4>Return Variables</h4>

<p>Function return variables are declared with the same syntax after the&nbsp;<code>returns</code>&nbsp;keyword.</p>

<p>For example, suppose you want to return two results: the sum and the product of two integers passed as function parameters, then you use something like:</p>

<p>&nbsp;</p>

<blockquote>
<pre>
// SPDX-License-Identifier: GPL-3.0
pragma solidity &gt;=0.4.16 &lt;0.9.0;

contract Simple {
    function arithmetic(uint a, uint b)
        public
        pure
        returns (uint sum, uint product)
    {
        sum = a + b;
        product = a * b;
    }
}
</pre>
</blockquote>

<p>The names of return variables can be omitted. Return variables can be used as any other local variable and they are initialized with their&nbsp;<a href="https://docs.soliditylang.org/en/v0.8.17/control-structures.html#default-value">default value</a>&nbsp;and have that value until they are (re-)assigned.</p>

<p>You can either explicitly assign to return variables and then leave the function as above, or you can provide return values (either a single or&nbsp;<a href="https://docs.soliditylang.org/en/v0.8.17/contracts.html#multi-return">multiple ones</a>) directly with the&nbsp;<code>return</code>&nbsp;statement:</p>

<p>&nbsp;</p>

<blockquote>
<pre>
// SPDX-License-Identifier: GPL-3.0
pragma solidity &gt;=0.4.16 &lt;0.9.0;

contract Simple {
    function arithmetic(uint a, uint b)
        public
        pure
        returns (uint sum, uint product)
    {
        return (a + b, a * b);
    }
}
</pre>
</blockquote>

<p>If you use an early&nbsp;<code>return</code>&nbsp;to leave a function that has return variables, you must provide return values together with the return statement.</p>

<p>Note</p>

<p>You cannot return some types from non-internal functions. This includes the types listed below and any composite types that recursively contain them:</p>

<ul>
	<li>
	<p>mappings,</p>
	</li>
	<li>
	<p>internal function types,</p>
	</li>
	<li>
	<p>reference types with location set to&nbsp;<code>storage</code>,</p>
	</li>
	<li>
	<p>multi-dimensional arrays (applies only to&nbsp;<a href="https://docs.soliditylang.org/en/v0.8.17/layout-of-source-files.html#abi-coder">ABI coder v1</a>),</p>
	</li>
	<li>
	<p>structs (applies only to&nbsp;<a href="https://docs.soliditylang.org/en/v0.8.17/layout-of-source-files.html#abi-coder">ABI coder v1</a>).</p>
	</li>
</ul>

<p>This restriction does not apply to library functions because of their different&nbsp;<a href="https://docs.soliditylang.org/en/v0.8.17/contracts.html#library-selectors">internal ABI</a>.</p>

<h4>Returning Multiple Values</h4>

<p>When a function has multiple return types, the statement&nbsp;<code>return&nbsp;(v0,&nbsp;v1,&nbsp;...,&nbsp;vn)</code>&nbsp;can be used to return multiple values. The number of components must be the same as the number of return variables and their types have to match, potentially after an&nbsp;<a href="https://docs.soliditylang.org/en/v0.8.17/types.html#types-conversion-elementary-types">implicit conversion</a>.</p>

<h3>State Mutability</h3>

<h4>View Functions</h4>

<p>Functions can be declared&nbsp;<code>view</code>&nbsp;in which case they promise not to modify the state.</p>

<p>Note</p>

<p>If the compiler&rsquo;s EVM target is Byzantium or newer (default) the opcode&nbsp;<code>STATICCALL</code>&nbsp;is used when&nbsp;<code>view</code>&nbsp;functions are called, which enforces the state to stay unmodified as part of the EVM execution. For library&nbsp;<code>view</code>&nbsp;functions&nbsp;<code>DELEGATECALL</code>&nbsp;is used, because there is no combined&nbsp;<code>DELEGATECALL</code>&nbsp;and&nbsp;<code>STATICCALL</code>. This means library&nbsp;<code>view</code>&nbsp;functions do not have run-time checks that prevent state modifications. This should not impact security negatively because library code is usually known at compile-time and the static checker performs compile-time checks.</p>

<p>The following statements are considered modifying the state:</p>

<ol>
	<li>
	<p>Writing to state variables.</p>
	</li>
	<li>
	<p><a href="https://docs.soliditylang.org/en/v0.8.17/contracts.html#events">Emitting events</a>.</p>
	</li>
	<li>
	<p><a href="https://docs.soliditylang.org/en/v0.8.17/control-structures.html#creating-contracts">Creating other contracts</a>.</p>
	</li>
	<li>
	<p>Using&nbsp;<code>selfdestruct</code>.</p>
	</li>
	<li>
	<p>Sending Ether via calls.</p>
	</li>
	<li>
	<p>Calling any function not marked&nbsp;<code>view</code>&nbsp;or&nbsp;<code>pure</code>.</p>
	</li>
	<li>
	<p>Using low-level calls.</p>
	</li>
	<li>
	<p>Using inline assembly that contains certain opcodes.</p>
	</li>
</ol>

<p>&nbsp;</p>

<blockquote>
<pre>
// SPDX-License-Identifier: GPL-3.0
pragma solidity &gt;=0.5.0 &lt;0.9.0;

contract C {
    function f(uint a, uint b) public view returns (uint) {
        return a * (b + 42) + block.timestamp;
    }
}
</pre>
</blockquote>

<p>Note</p>

<p><code>constant</code>&nbsp;on functions used to be an alias to&nbsp;<code>view</code>, but this was dropped in version 0.5.0.</p>

<p>Note</p>

<p>Getter methods are automatically marked&nbsp;<code>view</code>.</p>

<p>Note</p>

<p>Prior to version 0.5.0, the compiler did not use the&nbsp;<code>STATICCALL</code>&nbsp;opcode for&nbsp;<code>view</code>&nbsp;functions. This enabled state modifications in&nbsp;<code>view</code>&nbsp;functions through the use of invalid explicit type conversions. By using&nbsp;<code>STATICCALL</code>&nbsp;for&nbsp;<code>view</code>&nbsp;functions, modifications to the state are prevented on the level of the EVM.</p>

<h4>Pure Functions<a href="https://docs.soliditylang.org/en/v0.8.17/contracts.html#pure-functions" title="Permalink to this heading"></a></h4>

<p>Functions can be declared&nbsp;<code>pure</code>&nbsp;in which case they promise not to read from or modify the state. In particular, it should be possible to evaluate a&nbsp;<code>pure</code>&nbsp;function at compile-time given only its inputs and&nbsp;<code>msg.data</code>, but without any knowledge of the current blockchain state. This means that reading from&nbsp;<code>immutable</code>&nbsp;variables can be a non-pure operation.</p>

<p>Note</p>

<p>If the compiler&rsquo;s EVM target is Byzantium or newer (default) the opcode&nbsp;<code>STATICCALL</code>&nbsp;is used, which does not guarantee that the state is not read, but at least that it is not modified.</p>

<p>In addition to the list of state modifying statements explained above, the following are considered reading from the state:</p>

<ol>
	<li>
	<p>Reading from state variables.</p>
	</li>
	<li>
	<p>Accessing&nbsp;<code>address(this).balance</code>&nbsp;or&nbsp;<code>&lt;address&gt;.balance</code>.</p>
	</li>
	<li>
	<p>Accessing any of the members of&nbsp;<code>block</code>,&nbsp;<code>tx</code>,&nbsp;<code>msg</code>&nbsp;(with the exception of&nbsp;<code>msg.sig</code>&nbsp;and&nbsp;<code>msg.data</code>).</p>
	</li>
	<li>
	<p>Calling any function not marked&nbsp;<code>pure</code>.</p>
	</li>
	<li>
	<p>Using inline assembly that contains certain opcodes.</p>
	</li>
</ol>

<p>&nbsp;</p>

<pre>
// SPDX-License-Identifier: GPL-3.0
pragma solidity &gt;=0.5.0 &lt;0.9.0;

contract C {
    function f(uint a, uint b) public pure returns (uint) {
        return a * (b + 42);
    }
}
</pre>

<p>Pure functions are able to use the&nbsp;<code>revert()</code>&nbsp;and&nbsp;<code>require()</code>&nbsp;functions to revert potential state changes when an&nbsp;<a href="https://docs.soliditylang.org/en/v0.8.17/control-structures.html#assert-and-require">error occurs</a>.</p>

<p>Reverting a state change is not considered a &ldquo;state modification&rdquo;, as only changes to the state made previously in code that did not have the&nbsp;<code>view</code>&nbsp;or&nbsp;<code>pure</code>&nbsp;restriction are reverted and that code has the option to catch the&nbsp;<code>revert</code>&nbsp;and not pass it on.</p>

<p>This behaviour is also in line with the&nbsp;<code>STATICCALL</code>&nbsp;opcode.</p>

<p>Warning</p>

<p>It is not possible to prevent functions from reading the state at the level of the EVM, it is only possible to prevent them from writing to the state (i.e. only&nbsp;<code>view</code>&nbsp;can be enforced at the EVM level,&nbsp;<code>pure</code>&nbsp;can not).</p>

<p>Note</p>

<p>Prior to version 0.5.0, the compiler did not use the&nbsp;<code>STATICCALL</code>&nbsp;opcode for&nbsp;<code>pure</code>&nbsp;functions. This enabled state modifications in&nbsp;<code>pure</code>&nbsp;functions through the use of invalid explicit type conversions. By using&nbsp;<code>STATICCALL</code>&nbsp;for&nbsp;<code>pure</code>&nbsp;functions, modifications to the state are prevented on the level of the EVM.</p>

<p>Note</p>

<p>Prior to version 0.4.17 the compiler did not enforce that&nbsp;<code>pure</code>&nbsp;is not reading the state. It is a compile-time type check, which can be circumvented doing invalid explicit conversions between contract types, because the compiler can verify that the type of the contract does not do state-changing operations, but it cannot check that the contract that will be called at runtime is actually of that type.</p>

<h3>Special Functions<a href="https://docs.soliditylang.org/en/v0.8.17/contracts.html#special-functions" title="Permalink to this heading"></a></h3>

<h4>Receive Ether Function<a href="https://docs.soliditylang.org/en/v0.8.17/contracts.html#receive-ether-function" title="Permalink to this heading"></a></h4>

<p>A contract can have at most one&nbsp;<code>receive</code>&nbsp;function, declared using&nbsp;<code>receive()&nbsp;external&nbsp;payable&nbsp;{&nbsp;...&nbsp;}</code>&nbsp;(without the&nbsp;<code>function</code>&nbsp;keyword). This function cannot have arguments, cannot return anything and must have&nbsp;<code>external</code>&nbsp;visibility and&nbsp;<code>payable</code>&nbsp;state mutability. It can be virtual, can override and can have modifiers.</p>

<p>The receive function is executed on a call to the contract with empty calldata. This is the function that is executed on plain Ether transfers (e.g. via&nbsp;<code>.send()</code>&nbsp;or&nbsp;<code>.transfer()</code>). If no such function exists, but a payable&nbsp;<a href="https://docs.soliditylang.org/en/v0.8.17/contracts.html#fallback-function">fallback function</a>&nbsp;exists, the fallback function will be called on a plain Ether transfer. If neither a receive Ether nor a payable fallback function is present, the contract cannot receive Ether through regular transactions and throws an exception.</p>

<p>In the worst case, the&nbsp;<code>receive</code>&nbsp;function can only rely on 2300 gas being available (for example when&nbsp;<code>send</code>&nbsp;or&nbsp;<code>transfer</code>&nbsp;is used), leaving little room to perform other operations except basic logging. The following operations will consume more gas than the 2300 gas stipend:</p>

<ul>
	<li>
	<p>Writing to storage</p>
	</li>
	<li>
	<p>Creating a contract</p>
	</li>
	<li>
	<p>Calling an external function which consumes a large amount of gas</p>
	</li>
	<li>
	<p>Sending Ether</p>
	</li>
</ul>

<p>Warning</p>

<p>When Ether is sent directly to a contract (without a function call, i.e. sender uses&nbsp;<code>send</code>&nbsp;or&nbsp;<code>transfer</code>) but the receiving contract does not define a receive Ether function or a payable fallback function, an exception will be thrown, sending back the Ether (this was different before Solidity v0.4.0). If you want your contract to receive Ether, you have to implement a receive Ether function (using payable fallback functions for receiving Ether is not recommended, since the fallback is invoked and would not fail for interface confusions on the part of the sender).</p>

<p>Warning</p>

<p>A contract without a receive Ether function can receive Ether as a recipient of a&nbsp;<em>coinbase transaction</em>&nbsp;(aka&nbsp;<em>miner block reward</em>) or as a destination of a&nbsp;<code>selfdestruct</code>.</p>

<p>A contract cannot react to such Ether transfers and thus also cannot reject them. This is a design choice of the EVM and Solidity cannot work around it.</p>

<p>It also means that&nbsp;<code>address(this).balance</code>&nbsp;can be higher than the sum of some manual accounting implemented in a contract (i.e. having a counter updated in the receive Ether function).</p>

<p>Below you can see an example of a Sink contract that uses function&nbsp;<code>receive</code>.</p>

<p>&nbsp;</p>

<pre>
// SPDX-License-Identifier: GPL-3.0
pragma solidity &gt;=0.6.0 &lt;0.9.0;

// This contract keeps all Ether sent to it with no way
// to get it back.
contract Sink {
    event Received(address, uint);
    receive() external payable {
        emit Received(msg.sender, msg.value);
    }
}
</pre>

<h4>Fallback Function<a href="https://docs.soliditylang.org/en/v0.8.17/contracts.html#fallback-function" title="Permalink to this heading"></a></h4>

<p>A contract can have at most one&nbsp;<code>fallback</code>&nbsp;function, declared using either&nbsp;<code>fallback&nbsp;()&nbsp;external&nbsp;[payable]</code>&nbsp;or&nbsp;<code>fallback&nbsp;(bytes&nbsp;calldata&nbsp;input)&nbsp;external&nbsp;[payable]&nbsp;returns&nbsp;(bytes&nbsp;memory&nbsp;output)</code>&nbsp;(both without the&nbsp;<code>function</code>&nbsp;keyword). This function must have&nbsp;<code>external</code>&nbsp;visibility. A fallback function can be virtual, can override and can have modifiers.</p>

<p>The fallback function is executed on a call to the contract if none of the other functions match the given function signature, or if no data was supplied at all and there is no&nbsp;<a href="https://docs.soliditylang.org/en/v0.8.17/contracts.html#receive-ether-function">receive Ether function</a>. The fallback function always receives data, but in order to also receive Ether it must be marked&nbsp;<code>payable</code>.</p>

<p>If the version with parameters is used,&nbsp;<code>input</code>&nbsp;will contain the full data sent to the contract (equal to&nbsp;<code>msg.data</code>) and can return data in&nbsp;<code>output</code>. The returned data will not be ABI-encoded. Instead it will be returned without modifications (not even padding).</p>

<p>In the worst case, if a payable fallback function is also used in place of a receive function, it can only rely on 2300 gas being available (see&nbsp;<a href="https://docs.soliditylang.org/en/v0.8.17/contracts.html#receive-ether-function">receive Ether function</a>&nbsp;for a brief description of the implications of this).</p>

<p>Like any function, the fallback function can execute complex operations as long as there is enough gas passed on to it.</p>

<p>Warning</p>

<p>A&nbsp;<code>payable</code>&nbsp;fallback function is also executed for plain Ether transfers, if no&nbsp;<a href="https://docs.soliditylang.org/en/v0.8.17/contracts.html#receive-ether-function">receive Ether function</a>&nbsp;is present. It is recommended to always define a receive Ether function as well, if you define a payable fallback function to distinguish Ether transfers from interface confusions.</p>

<p>Note</p>

<p>If you want to decode the input data, you can check the first four bytes for the function selector and then you can use&nbsp;<code>abi.decode</code>&nbsp;together with the array slice syntax to decode ABI-encoded data:&nbsp;<code>(c,&nbsp;d)&nbsp;=&nbsp;abi.decode(input[4:],&nbsp;(uint256,&nbsp;uint256));</code>&nbsp;Note that this should only be used as a last resort and proper functions should be used instead.</p>

<p>&nbsp;</p>

<pre>
// SPDX-License-Identifier: GPL-3.0
pragma solidity &gt;=0.6.2 &lt;0.9.0;

contract Test {
    uint x;
    // This function is called for all messages sent to
    // this contract (there is no other function).
    // Sending Ether to this contract will cause an exception,
    // because the fallback function does not have the `payable`
    // modifier.
    fallback() external { x = 1; }
}

contract TestPayable {
    uint x;
    uint y;
    // This function is called for all messages sent to
    // this contract, except plain Ether transfers
    // (there is no other function except the receive function).
    // Any call with non-empty calldata to this contract will execute
    // the fallback function (even if Ether is sent along with the call).
    fallback() external payable { x = 1; y = msg.value; }

    // This function is called for plain Ether transfers, i.e.
    // for every call with empty calldata.
    receive() external payable { x = 2; y = msg.value; }
}

contract Caller {
    function callTest(Test test) public returns (bool) {
        (bool success,) = address(test).call(abi.encodeWithSignature(&quot;nonExistingFunction()&quot;));
        require(success);
        // results in test.x becoming == 1.

        // address(test) will not allow to call ``send`` directly, since ``test`` has no payable
        // fallback function.
        // It has to be converted to the ``address payable`` type to even allow calling ``send`` on it.
        address payable testPayable = payable(address(test));

        // If someone sends Ether to that contract,
        // the transfer will fail, i.e. this returns false here.
        return testPayable.send(2 ether);
    }

    function callTestPayable(TestPayable test) public returns (bool) {
        (bool success,) = address(test).call(abi.encodeWithSignature(&quot;nonExistingFunction()&quot;));
        require(success);
        // results in test.x becoming == 1 and test.y becoming 0.
        (success,) = address(test).call{value: 1}(abi.encodeWithSignature(&quot;nonExistingFunction()&quot;));
        require(success);
        // results in test.x becoming == 1 and test.y becoming 1.

        // If someone sends Ether to that contract, the receive function in TestPayable will be called.
        // Since that function writes to storage, it takes more gas than is available with a
        // simple ``send`` or ``transfer``. Because of that, we have to use a low-level call.
        (success,) = address(test).call{value: 2 ether}(&quot;&quot;);
        require(success);
        // results in test.x becoming == 2 and test.y becoming 2 ether.

        return true;
    }
}
</pre>

<h3>Function Overloading<a href="https://docs.soliditylang.org/en/v0.8.17/contracts.html#function-overloading" title="Permalink to this heading"></a></h3>

<p>A contract can have multiple functions of the same name but with different parameter types. This process is called &ldquo;overloading&rdquo; and also applies to inherited functions. The following example shows overloading of the function&nbsp;<code>f</code>&nbsp;in the scope of contract&nbsp;<code>A</code>.</p>

<p>&nbsp;</p>

<pre>
// SPDX-License-Identifier: GPL-3.0
pragma solidity &gt;=0.4.16 &lt;0.9.0;

contract A {
    function f(uint value) public pure returns (uint out) {
        out = value;
    }

    function f(uint value, bool really) public pure returns (uint out) {
        if (really)
            out = value;
    }
}
</pre>

<p>Overloaded functions are also present in the external interface. It is an error if two externally visible functions differ by their Solidity types but not by their external types.</p>

<p>&nbsp;</p>

<pre>
// SPDX-License-Identifier: GPL-3.0
pragma solidity &gt;=0.4.16 &lt;0.9.0;

// This will not compile
contract A {
    function f(B value) public pure returns (B out) {
        out = value;
    }

    function f(address value) public pure returns (address out) {
        out = value;
    }
}

contract B {
}
</pre>

<p>Both&nbsp;<code>f</code>&nbsp;function overloads above end up accepting the address type for the ABI although they are considered different inside Solidity.</p>

<h4>Overload resolution and Argument matching<a href="https://docs.soliditylang.org/en/v0.8.17/contracts.html#overload-resolution-and-argument-matching" title="Permalink to this heading"></a></h4>

<p>Overloaded functions are selected by matching the function declarations in the current scope to the arguments supplied in the function call. Functions are selected as overload candidates if all arguments can be implicitly converted to the expected types. If there is not exactly one candidate, resolution fails.</p>

<p>Note</p>

<p>Return parameters are not taken into account for overload resolution.</p>

<p>&nbsp;</p>

<pre>
// SPDX-License-Identifier: GPL-3.0
pragma solidity &gt;=0.4.16 &lt;0.9.0;

contract A {
    function f(uint8 val) public pure returns (uint8 out) {
        out = val;
    }

    function f(uint256 val) public pure returns (uint256 out) {
        out = val;
    }
}
</pre>

<p>Calling&nbsp;<code>f(50)</code>&nbsp;would create a type error since&nbsp;<code>50</code>&nbsp;can be implicitly converted both to&nbsp;<code>uint8</code>&nbsp;and&nbsp;<code>uint256</code>&nbsp;types. On another hand&nbsp;<code>f(256)</code>&nbsp;would resolve to&nbsp;<code>f(uint256)</code>&nbsp;overload as&nbsp;<code>256</code>&nbsp;cannot be implicitly converted to&nbsp;<code>uint8</code>.</p>

               
  </div> <br>
               
                 
                <!--/ Post Content-->
                 
<style>
    blockquote{color:white;background: #212121;overflow: auto;}
    p{margin-top: 5px;}
    code{color:white;background: #212121;overflow: auto;}

</style>



        </article>
<br>
  <next-prev>

    
    <div class="   flex mx-auto items-center flex-wrap">
        <nav aria-label="Page navigation">
          <ul class="inline-flex">
            <li><a href="12.html"><button class="px-4 py-2 text-purple-600 transition-colors duration-150 bg-white rounded-l-lg focus:shadow-outline hover:bg-green-100">Prev</button></a></li>
             <li><a href="14.html"><button class="px-4 py-2 text-purple-600 transition-colors duration-150 bg-white rounded-r-lg focus:shadow-outline hover:bg-green-100">Next</button></a></li>
          </ul>
        </nav>
      </div>
  </next-prev>




          
              </div>


      </section>




      
<footer class="p-4 bg-white rounded-lg shadow md:px-6 md:py-8">
    <div class="sm:flex sm:items-center sm:justify-between">
        <a href="https://cryptway.in/" class="flex items-center mb-4 sm:mb-0">
            <img src="https://cryptway.in/static/media/cryptocurrency.511fdd8c.png" class="mr-3 h-8" alt="Logo">
            <span class="font-bold self-center text-2xl  whitespace-nowrap dark:text-white">Cryptway</span>
        </a>
        <ul class="flex flex-wrap items-center mb-6 text-sm text-gray-500 sm:mb-0 dark:text-gray-400">
            <li>
                <a href="https://github.com/cryptway" class="mr-4 hover:underline md:mr-6 ">Github</a>
            </li>
            
            
        </ul>
    </div>
    <hr class="my-6 border-gray-200 sm:mx-auto dark:border-gray-700 lg:my-8">
    <span class="block text-sm text-gray-500 sm:text-center"><a class=" text-black sm:text-center " href="https://cryptway.in/">cryptway</a> Some Rights Reserved.
    </span>
</footer>

     

    
    
</body>
</html>
